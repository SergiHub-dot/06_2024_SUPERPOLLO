CREATE TABLE CATEGORIAS(
	ID					BIGINT			NOT NULL,
	NOMBRE				VARCHAR(100)	,
	PRIMARY KEY(ID)
);

CREATE TABLE PRODUCTOS(
	CODIGO							BIGINT			NOT NULL,
	NOMBRE							VARCHAR(50)		,
	DESCRIPCION						VARCHAR(150)	,
	FECHA_ALTA						DATE			,
	PRECIO							DOUBLE			,
	ID_CATEGORIA					BIGINT			,
	DESCATALOGADO					BOOLEAN			,
	PRIMARY KEY(CODIGO),
	FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAS (ID)
);

CREATE TABLE ESTABLECIMIENTOS(
	CODIGO							BIGINT			NOT NULL,
	NOMBRE_COMERCIAL				VARCHAR(100)	,
	FECHA_INAUGURACION				DATE			,
	DIRECCION						VARCHAR(100)	,
	POBLACION						VARCHAR(100)	,
	CODIGO_POSTAL					VARCHAR(10)		,
	PROVINCIA						VARCHAR(100)	,
	PAIS							VARCHAR(100)	,
	TELEFONO						VARCHAR(25)		,
	FAX								VARCHAR(25)		,
	EMAIL							VARCHAR(250)	,
	PRIMARY KEY (CODIGO)
);

CREATE TABLE PEDIDOS(
	CODIGO							BIGINT			NOT NULL,
	FECHA_HORA						TIMESTAMP		NOT NULL,
	CODIGO_CAMARERO					BIGINT			NOT NULL,
	CODIGO_CLIENTE		    		BIGINT			,
	CODIGO_ESTABLECIMIENTO			BIGINT			NOT NULL,
	ESTADO							VARCHAR(20)		NOT NULL,
	COMENTARIO                      VARCHAR(250)    ,
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (CODIGO_CAMARERO) REFERENCES CAMAREROS (CODIGO_CAMARERO),
	FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTES (CODIGO_CLIENTE),
	FOREIGN KEY (CODIGO_ESTABLECIMIENTO) REFERENCES ESTABLECIMIENTOS (CODIGO)
);

CREATE TABLE LINEAS_PEDIDO(
	CODIGO_PEDIDO					BIGINT			NOT NULL,
	CODIGO_PRODUCTO					BIGINT			NOT NULL,
	CANTIDAD						INTEGER			NOT NULL,
	PRECIO							DOUBLE			,
	FOREIGN KEY (CODIGO_PEDIDO) REFERENCES PEDIDOS (CODIGO),
	FOREIGN KEY (CODIGO_PRODUCTO) REFERENCES PRODUCTOS (CODIGO)
);
